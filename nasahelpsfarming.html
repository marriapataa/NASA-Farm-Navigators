<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Helps Farming </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0e29 0%, #1a1f4b 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .nav-container {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 14, 41, 0.9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
.nav-logo {
    display: flex;
    align-items: center;
}

.nav-logo img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 10px;
}


        .nav-logo-text {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            align-items: center;
        }

        .nav-menu li {
            margin-left: 20px;
        }

        .nav-menu a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .nav-menu a:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-menu a.active {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
        }

        .language-selector {
            position: relative;
            display: inline-block;
        }

        .language-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .language-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(20, 25, 60, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 10px;
            min-width: 150px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1001;
        }

        .language-dropdown.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .language-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .language-option.active {
            background: rgba(76, 175, 80, 0.3);
        }

        .language-flag {
            font-size: 1.2rem;
        }

        .section {
            display: none;
            padding: 100px 20px 50px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section.active {
            display: block;
        }

        .hero {
            text-align: center;
            padding: 60px 0;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            color: #aaa;
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            color: #4CAF50;
        }

        .game-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .game-header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .game-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #43cea2, #185a9d);
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .mission-intro {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .game-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-area {
            flex: 2;
            min-width: 300px;
            background: rgba(16, 36, 54, 0.7);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .nasa-data-panel {
            flex: 1;
            min-width: 300px;
            background: rgba(16, 36, 54, 0.7);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .farm-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .plot {
            aspect-ratio: 1;
            background: #2a4d5e;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #3a7ca5;
            position: relative;
            overflow: hidden;
        }

        .plot:hover {
            transform: scale(1.05);
            background: #3a7ca5;
        }

        .plot.planted {
            background: #2e8b57;
        }

        .plot.harvestable {
            background: #ffa500;
            animation: pulse 1.5s infinite;
        }

        .plot .crop-icon {
            font-size: 1.5rem;
            z-index: 1;
        }

        .plot .soil-moisture {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 5px;
            background: #1e90ff;
            width: 100%;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .game-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .game-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(90deg, #43cea2, #185a9d);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .game-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .resources {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .resource {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 8px;
        }

        .resource-icon {
            font-size: 1.5rem;
        }

        .mission-log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .sustainability-score {
            background: rgba(67, 206, 162, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
        }

        .score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #43cea2;
        }

        .nasa-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            margin-left: 10px;
            vertical-align: middle;
        }

        .crop-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .crop-option {
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .crop-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .crop-option.selected {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .crop-option .crop-cost {
            font-size: 0.8rem;
            color: #aaa;
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .player-stats {
            display: flex;
            gap: 15px;
        }

        .player-stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .storage {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .storage h3 {
            margin-bottom: 10px;
            color: #43cea2;
        }

        .storage-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }

        .storage-item {
            display: flex;
            align-items: center;
            gap: 5px;
            background: rgba(255, 255, 255, 0.05);
            padding: 5px 10px;
            border-radius: 5px;
        }

        .dialog-box {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            max-width: 500px;
            z-index: 1000;
            display: none;
        }

        .dialog-box.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .dialog-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .dialog-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .dialog-text {
            flex: 1;
        }

        .dialog-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        @media (max-width: 950px) {
            .game-content {
                flex-direction: column;
            }

            .farm-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .crop-selector {
                flex-direction: column;
            }

            .nav-menu {
                flex-wrap: wrap;
            }

            .features {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .farm-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .game-btn {
                min-width: 100px;
                font-size: 0.9rem;
                padding: 8px 10px;
            }

            .resource {
                min-width: 100px;
                padding: 8px 12px;
            }

            .language-dropdown {
                right: -50px;
            }
        }

        @media (max-width: 480px) {
            .farm-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .game-controls {
                gap: 5px;
            }

            .game-btn {
                min-width: 80px;
                font-size: 0.8rem;
                padding: 6px 8px;
            }

            .resource {
                min-width: 80px;
                padding: 6px 10px;
                font-size: 0.9rem;
            }

            .nav-menu li {
                margin-left: 10px;
            }

            .language-button span {
                display: none;
            }
        }
    </style>
</head>
<body>
    <nav class="nav-container">
        <div class="nav-content">
          <div class="nav-logo">
    <img src="Girls Not Found.jpg" alt="logo app">
    <div class="nav-logo-text">NASA HELPS FARMING</div>
</div>
            <ul class="nav-menu">
                <li><a href="#" class="nav-link active" data-section="home">In√≠cio</a></li>
                <li><a href="#" class="nav-link" data-section="game">Jogar</a></li>
                <li><a href="#" class="nav-link" data-section="login">Entrar</a></li>
                <li><a href="ss.html" class="nav-link">Cadastrar</a></li>
                <li>
                    <div class="language-selector">
                        <button class="language-button" id="languageButton">
                            <span class="language-flag">üáßüá∑</span>
                            <span>Portugu√™s</span>
                            <span>‚ñº</span>
                        </button>
                        <div class="language-dropdown" id="languageDropdown">
                            <div class="language-option active" data-lang="pt">
                                <span class="language-flag">üáßüá∑</span>
                                <span>Portugu√™s</span>
                            </div>
                            <div class="language-option" data-lang="en">
                                <span class="language-flag">üá∫üá∏</span>
                                <span>English</span>
                            </div>
                            <div class="language-option" data-lang="fr">
                                <span class="language-flag">üá´üá∑</span>
                                <span>Fran√ßais</span>
                            </div>
                            <div class="language-option" data-lang="es">
                                <span class="language-flag">üá™üá∏</span>
                                <span>Espa√±ol</span>
                            </div>
                            <div class="language-option" data-lang="it">
                                <span class="language-flag">üáÆüáπ</span>
                                <span>Italiano</span>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <section id="home" class="section active">
        <div class="hero">
            <h1 id="home-title">NASA Helps Farming</h1>
            <p id="home-description">Junte-se √† miss√£o de alimentar a humanidade no cosmos. Cultive plantas em ambientes de microgravidade, gerencie recursos limitados e colabore com outros agricultores espaciais em uma experi√™ncia √∫nica baseada em dados reais da NASA.</p>
            <div class="cta-buttons">
                <a href="#" class="btn btn-primary nav-link" data-section="game" id="home-start-btn">Come√ßar Agora</a>
                <a href="ss.html" class="btn btn-secondary nav-link" id="home-register-btn">Cadastrar</a>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">üåç</div>
                <h3 id="feature-1-title">Dados NASA em Tempo Real</h3>
                <p id="feature-1-desc">Utilize dados reais de sat√©lites da NASA para tomar decis√µes agr√≠colas informadas sobre clima, umidade do solo e sa√∫de da vegeta√ß√£o.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üöÄ</div>
                <h3 id="feature-2-title">Agricultura com Dados da NASA</h3>
                <p id="feature-2-desc">Aprenda t√©cnicas avan√ßadas de cultivo em ambientes de microgravidade e contribua para a coloniza√ß√£o de Marte e al√©m.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üë®‚Äçüî¨</div>
                <h3 id="feature-3-title">Pesquisa Cient√≠fica</h3>
                <p id="feature-3-desc">Participe de pesquisas reais da NASA e colabore com uma comunidade global de agricultores espaciais.</p>
            </div>
        </div>
    </section>

    <section id="game" class="section">
        <div class="game-container">
            <header class="game-header">
                <h1 id="game-title">Fazenda Helps Farming </h1>
                <p class="subtitle" id="game-subtitle">Integrando dados de sat√©lite para agricultura sustent√°vel</p>
            </header>
            <div class="mission-intro">
                <p id="game-intro-1">A agricultura est√° no centro do suprimento global de alimentos, mas a comunidade agr√≠cola enfrenta desafios sem precedentes com as mudan√ßas clim√°ticas. Este jogo demonstra como dados abertos da NASA podem ser usados para otimizar a produtividade das culturas, reduzir recursos necess√°rios e minimizar o impacto ambiental.</p>
                <p id="game-intro-2">Utilize dados de sat√©lite para tomar decis√µes agr√≠colas baseadas em informa√ß√µes reais sobre condi√ß√µes clim√°ticas, umidade do solo e sa√∫de da vegeta√ß√£o.</p>
            </div>
            <div class="game-content">
                <div class="game-area">
                    <div class="player-info">
                        <div class="player-avatar">üë®‚ÄçüöÄ</div>
                        <div>
                            <h3 id="player-name">Agricultor Espacial</h3>
                            <div class="player-stats">
                                <div class="player-stat">‚≠ê <span id="level-text">N√≠vel</span>: <span id="player-level">1</span></div>
                                <div class="player-stat">üèÜ XP: <span id="player-xp">0</span></div>
                                <div class="player-stat">ü™ô <span id="coins-text">NasaCoins</span>: <span id="player-coins">1000</span></div>
                            </div>
                        </div>
                    </div>

                    <h2 id="farm-title">Fazenda Helps Sustent√°vel</h2>
                    <p id="farm-description">Selecione uma cultura e clique em plantar ou clique diretamente em uma parcela vazia</p>

                    <div class="crop-selector" id="cropSelector">
                    </div>

                    <div class="farm-grid" id="farmGrid">
                    </div>

                    <div class="game-controls">
                        <button id="plantBtn" class="game-btn"><span id="plant-btn-text">Plantar na Pr√≥xima Parcela</span></button>
                        <button id="harvestBtn" class="game-btn" disabled><span id="harvest-btn-text">Colher Tudo</span></button>
                        <button id="irrigateBtn" class="game-btn"><span id="irrigate-btn-text">Irrigar</span> (10 <span id="water-text">√°gua</span>)</button>
                        <button id="fertilizeBtn" class="game-btn"><span id="fertilize-btn-text">Fertilizar</span> (5 ü™ô)</button>
                    </div>

                    <div class="resources">
                        <div class="resource">
                            <span class="resource-icon">üå±</span>
                            <span id="food-text">Alimentos</span>: <span id="foodCount">100</span>
                        </div>
                        <div class="resource">
                            <span class="resource-icon">üíß</span>
                            <span id="water-resource-text">√Ågua</span>: <span id="waterCount">50</span>
                        </div>
                        <div class="resource">
                            <span class="resource-icon">üí®</span>
                            <span id="oxygen-text">Oxig√™nio</span>: <span id="oxygenCount">100</span>
                        </div>
                        <div class="resource">
                            <span class="resource-icon">‚ö°</span>
                            <span id="energy-text">Energia</span>: <span id="energyCount">75</span>
                        </div>
                    </div>

                    <div class="storage">
                        <h3 id="storage-title">Armaz√©m</h3>
                        <div class="storage-items" id="storageItems">
                        </div>
                    </div>
                </div>

                <div class="nasa-data-panel">
                    <h2 id="nasa-title">Dados da NASA em Tempo Real <span class="nasa-badge">FONTE ABERTA</span></h2>
                    <p id="nasa-description">Consulte dados reais para tomar decis√µes agr√≠colas informadas</p>

                    <div class="mission-log">
                        <h3 id="log-title">Log da Miss√£o</h3>
                        <div id="missionLog">
                            <div class="log-entry" id="welcome-log">Bem-vindo ao programa de Agricultura de Precis√£o com dados NASA!</div>
                            <div class="log-entry" id="select-log">Selecione uma cultura e comece a plantar.</div>
                        </div>
                    </div>

                    <div class="sustainability-score">
                        <h3 id="sustainability-title">Pontua√ß√£o de Sustentabilidade</h3>
                        <div class="score-value" id="sustainabilityScore">75</div>
                        <p id="sustainability-description">Baseada no uso eficiente de recursos e conserva√ß√£o ambiental</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="login" class="section">
        <div class="container">
            <h2 id="login-title">P√°gina de Login</h2>
            <p>Esta funcionalidade ser√° implementada em breve.</p>
        </div>
    </section>

    <section id="register" class="section">
        <div class="container">
            <h2 id="register-title">P√°gina de Cadastro</h2>
            <p>Esta funcionalidade ser√° implementada em breve.</p>
        </div>
    </section>

    <div class="dialog-box" id="dialogBox">
        <div class="dialog-content">
            <div class="dialog-avatar">üë©‚Äçüî¨</div>
            <div class="dialog-text" id="dialogText"></div>
            <button class="dialog-close" onclick="hideDialog()">‚úñ</button>
        </div>
    </div>

    <script>
        const translations = {
            pt: {
                'home': 'In√≠cio',
                'game': 'Jogar',
                'login': 'Entrar',
                'register': 'Cadastrar',

                'home-title': 'Space Farming NASA',
                'home-description': 'Junte-se √† miss√£o de alimentar a humanidade no cosmos. Cultive plantas em ambientes de microgravidade, gerencie recursos limitados e colabore com outros agricultores espaciais em uma experi√™ncia √∫nica baseada em dados reais da NASA.',
                'home-start-btn': 'Come√ßar Agora',
                'home-register-btn': 'Cadastrar',

                'feature-1-title': 'Dados NASA em Tempo Real',
                'feature-1-desc': 'Utilize dados reais de sat√©lites da NASA para tomar decis√µes agr√≠colas informadas sobre clima, umidade do solo e sa√∫de da vegeta√ß√£o.',
                'feature-2-title': 'Agricultura Espacial',
                'feature-2-desc': 'Aprenda t√©cnicas avan√ßadas de cultivo em ambientes de microgravidade e contribua para a coloniza√ß√£o de Marte e al√©m.',
                'feature-3-title': 'Pesquisa Cient√≠fica',
                'feature-3-desc': 'Participe de pesquisas reais da NASA e colabore com uma comunidade global de agricultores espaciais.',

                'game-title': 'Col√¥nia Lunar - Agricultura Espacial',
                'game-subtitle': 'Integrando dados de sat√©lite para agricultura sustent√°vel',
                'game-intro-1': 'A agricultura est√° no centro do suprimento global de alimentos, mas a comunidade agr√≠cola enfrenta desafios sem precedentes com as mudan√ßas clim√°ticas. Este jogo demonstra como dados abertos da NASA podem ser usados para otimizar a produtividade das culturas, reduzir recursos necess√°rios e minimizar o impacto ambiental.',
                'game-intro-2': 'Utilize dados de sat√©lite para tomar decis√µes agr√≠colas baseadas em informa√ß√µes reais sobre condi√ß√µes clim√°ticas, umidade do solo e sa√∫de da vegeta√ß√£o.',

                'player-name': 'Agricultor Espacial',
                'level-text': 'N√≠vel',
                'coins-text': 'NasaCoins',
                'farm-title': 'Fazenda Lunar Sustent√°vel',
                'farm-description': 'Selecione uma cultura e clique em plantar ou clique diretamente em uma parcela vazia',
                'plant-btn-text': 'Plantar na Pr√≥xima Parcela',
                'harvest-btn-text': 'Colher Tudo',
                'irrigate-btn-text': 'Irrigar',
                'fertilize-btn-text': 'Fertilizar',
                'food-text': 'Alimentos',
                'water-text': '√°gua',
                'water-resource-text': '√Ågua',
                'oxygen-text': 'Oxig√™nio',
                'energy-text': 'Energia',
                'storage-title': 'Armaz√©m',
                'nasa-title': 'Dados NASA em Tempo Real',
                'nasa-description': 'Consulte dados reais para tomar decis√µes agr√≠colas informadas',
                'log-title': 'Log da Miss√£o',
                'welcome-log': 'Bem-vindo ao programa de Agricultura de Precis√£o com dados NASA!',
                'select-log': 'Selecione uma cultura e comece a plantar.',
                'sustainability-title': 'Pontua√ß√£o de Sustentabilidade',
                'sustainability-description': 'Baseada no uso eficiente de recursos e conserva√ß√£o ambiental',

                'lettuce': 'Alface Espacial',
                'potato': 'Batata Marciana',
                'wheat': 'Trigo Lunar',
                'soy': 'Soja Espacial',
                'corn': 'Milho Orbital',
                'sunflower': 'Girassol Solar',
                'coffee': 'Caf√© Marciano'
            },
            en: {
                'home': 'Home',
                'game': 'Play',
                'login': 'Login',
                'register': 'Register',

                'home-title': 'NASA Space Farming',
                'home-description': 'Join the mission to feed humanity in the cosmos. Grow plants in microgravity environments, manage limited resources, and collaborate with other space farmers in a unique experience based on real NASA data.',
                'home-start-btn': 'Start Now',
                'home-register-btn': 'Register',

                'feature-1-title': 'Real-time NASA Data',
                'feature-1-desc': 'Use real data from NASA satellites to make informed agricultural decisions about climate, soil moisture and vegetation health.',
                'feature-2-title': 'Space Agriculture',
                'feature-2-desc': 'Learn advanced cultivation techniques in microgravity environments and contribute to the colonization of Mars and beyond.',
                'feature-3-title': 'Scientific Research',
                'feature-3-desc': 'Participate in real NASA research and collaborate with a global community of space farmers.',

                'game-title': 'Lunar Colony - Space Agriculture',
                'game-subtitle': 'Integrating satellite data for sustainable agriculture',
                'game-intro-1': 'Agriculture is at the center of the global food supply, but the agricultural community faces unprecedented challenges with climate change. This game demonstrates how NASA open data can be used to optimize crop productivity, reduce required resources and minimize environmental impact.',
                'game-intro-2': 'Use satellite data to make agricultural decisions based on real information about weather conditions, soil moisture and vegetation health.',

                'player-name': 'Space Farmer',
                'level-text': 'Level',
                'coins-text': 'NasaCoins',
                'farm-title': 'Sustainable Lunar Farm',
                'farm-description': 'Select a crop and click to plant or click directly on an empty plot',
                'plant-btn-text': 'Plant in Next Plot',
                'harvest-btn-text': 'Harvest All',
                'irrigate-btn-text': 'Irrigate',
                'fertilize-btn-text': 'Fertilize',
                'food-text': 'Food',
                'water-text': 'water',
                'water-resource-text': 'Water',
                'oxygen-text': 'Oxygen',
                'energy-text': 'Energy',
                'storage-title': 'Storage',
                'nasa-title': 'NASA Real-time Data',
                'nasa-description': 'Consult real data to make informed agricultural decisions',
                'log-title': 'Mission Log',
                'welcome-log': 'Welcome to the Precision Agriculture program with NASA data!',
                'select-log': 'Select a crop and start planting.',
                'sustainability-title': 'Sustainability Score',
                'sustainability-description': 'Based on efficient resource use and environmental conservation',

                'lettuce': 'Space Lettuce',
                'potato': 'Martian Potato',
                'wheat': 'Lunar Wheat',
                'soy': 'Space Soy',
                'corn': 'Orbital Corn',
                'sunflower': 'Solar Sunflower',
                'coffee': 'Martian Coffee'
            },
            fr: {
                'home': 'Accueil',
                'game': 'Jouer',
                'login': 'Connexion',
                'register': 'S\'inscrire',

                'home-title': 'NASA Space Farming',
                'home-description': 'Rejoignez la mission pour nourrir l\'humanit√© dans le cosmos. Cultivez des plantes en microgravit√©, g√©rez des ressources limit√©es et collaborez avec d\'autres agriculteurs spatiaux dans une exp√©rience unique bas√©e sur des donn√©es r√©elles de la NASA.',
                'home-start-btn': 'Commencer Maintenant',
                'home-register-btn': 'S\'inscrire',

                'feature-1-title': 'Donn√©es NASA en Temps R√©el',
                'feature-1-desc': 'Utilisez des donn√©es r√©elles des satellites de la NASA pour prendre des d√©cisions agricoles √©clair√©es sur le climat, l\'humidit√© du sol et la sant√© de la v√©g√©tation.',
                'feature-2-title': 'Agriculture Spatiale',
                'feature-2-desc': 'Apprenez des techniques de culture avanc√©es en microgravit√© et contribuez √† la colonisation de Mars et au-del√†.',
                'feature-3-title': 'Recherche Scientifique',
                'feature-3-desc': 'Participez √† de vraies recherches de la NASA et collaborez avec une communaut√© mondiale d\'agriculteurs spatiaux.',

                'game-title': 'Colonie Lunaire - Agriculture Spatiale',
                'game-subtitle': 'Int√©gration des donn√©es satellitaires pour une agriculture durable',
                'game-intro-1': 'L\'agriculture est au centre de l\'approvisionnement alimentaire mondial, mais la communaut√© agricole fait face √† des d√©fis sans pr√©c√©dent avec le changement climatique. Ce jeu d√©montre comment les donn√©es ouvertes de la NASA peuvent √™tre utilis√©es pour optimiser la productivit√© des cultures, r√©duire les ressources n√©cessaires et minimiser l\'impact environnemental.',
                'game-intro-2': 'Utilisez les donn√©es satellitaires pour prendre des d√©cisions agricoles bas√©es sur des informations r√©elles concernant les conditions climatiques, l\'humidit√© du sol et la sant√© de la v√©g√©tation.',

                'player-name': 'Agriculteur Spatial',
                'level-text': 'Niveau',
                'coins-text': 'NasaCoins',
                'farm-title': 'Ferme Lunaire Durable',
                'farm-description': 'S√©lectionnez une culture et cliquez pour planter ou cliquez directement sur une parcelle vide',
                'plant-btn-text': 'Planter dans la Parcelle Suivante',
                'harvest-btn-text': 'R√©colter Tout',
                'irrigate-btn-text': 'Irriguer',
                'fertilize-btn-text': 'Fertiliser',
                'food-text': 'Nourriture',
                'water-text': 'eau',
                'water-resource-text': 'Eau',
                'oxygen-text': 'Oxyg√®ne',
                'energy-text': '√ânergie',
                'storage-title': 'Stockage',
                'nasa-title': 'Donn√©es NASA en Temps R√©el',
                'nasa-description': 'Consultez des donn√©es r√©elles pour prendre des d√©cisions agricoles √©clair√©es',
                'log-title': 'Journal de Mission',
                'welcome-log': 'Bienvenue au programme d\'Agriculture de Pr√©cision avec les donn√©es de la NASA!',
                'select-log': 'S√©lectionnez une culture et commencez √† planter.',
                'sustainability-title': 'Score de Durabilit√©',
                'sustainability-description': 'Bas√© sur l\'utilisation efficace des ressources et la conservation de l\'environnement',

                'lettuce': 'Laitue Spatiale',
                'potato': 'Pomme de Terre Martienne',
                'wheat': 'Bl√© Lunaire',
                'soy': 'Soja Spatial',
                'corn': 'Ma√Øs Orbital',
                'sunflower': 'Tournesol Solaire',
                'coffee': 'Caf√© Martien'
            },
            es: {
                'home': 'Inicio',
                'game': 'Jugar',
                'login': 'Entrar',
                'register': 'Registrarse',

                'home-title': 'NASA Space Farming',
                'home-description': '√önase a la misi√≥n de alimentar a la humanidad en el cosmos. Cultive plantas en entornos de microgravedad, gestione recursos limitados y colabore con otros agricultores espaciales en una experiencia √∫nica basada en datos reales de la NASA.',
                'home-start-btn': 'Comenzar Ahora',
                'home-register-btn': 'Registrarse',

                'feature-1-title': 'Datos NASA en Tiempo Real',
                'feature-1-desc': 'Utilice datos reales de sat√©lites de la NASA para tomar decisiones agr√≠colas informadas sobre clima, humedad del suelo y salud de la vegetaci√≥n.',
                'feature-2-title': 'Agricultura Espacial',
                'feature-2-desc': 'Aprenda t√©cnicas avanzadas de cultivo en entornos de microgravedad y contribuya a la colonizaci√≥n de Marte y m√°s all√°.',
                'feature-3-title': 'Investigaci√≥n Cient√≠fica',
                'feature-3-desc': 'Participe en investigaciones reales de la NASA y colabore con una comunidad global de agricultores espaciales.',

                'game-title': 'Colonia Lunar - Agricultura Espacial',
                'game-subtitle': 'Integrando datos satelitales para agricultura sostenible',
                'game-intro-1': 'La agricultura est√° en el centro del suministro global de alimentos, pero la comunidad agr√≠cola enfrenta desaf√≠os sin precedentes con el cambio clim√°tico. Este juego demuestra c√≥mo los datos abiertos de la NASA pueden usarse para optimizar la productividad de los cultivos, reducir los recursos necesarios y minimizar el impacto ambiental.',
                'game-intro-2': 'Utilice datos satelitales para tomar decisiones agr√≠colas basadas en informaci√≥n real sobre condiciones clim√°ticas, humedad del suelo y salud de la vegetaci√≥n.',

                'player-name': 'Agricultor Espacial',
                'level-text': 'Nivel',
                'coins-text': 'NasaCoins',
                'farm-title': 'Granja Lunar Sostenible',
                'farm-description': 'Seleccione un cultivo y haga clic para plantar o haga clic directamente en una parcela vac√≠a',
                'plant-btn-text': 'Plantar en la Siguiente Parcela',
                'harvest-btn-text': 'Cosechar Todo',
                'irrigate-btn-text': 'Regar',
                'fertilize-btn-text': 'Fertilizar',
                'food-text': 'Alimentos',
                'water-text': 'agua',
                'water-resource-text': 'Agua',
                'oxygen-text': 'Ox√≠geno',
                'energy-text': 'Energ√≠a',
                'storage-title': 'Almac√©n',
                'nasa-title': 'Datos NASA en Tiempo Real',
                'nasa-description': 'Consulte datos reales para tomar decisiones agr√≠colas informadas',
                'log-title': 'Registro de Misi√≥n',
                'welcome-log': '¬°Bienvenido al programa de Agricultura de Precisi√≥n con datos de la NASA!',
                'select-log': 'Seleccione un cultivo y comience a plantar.',
                'sustainability-title': 'Puntuaci√≥n de Sostenibilidad',
                'sustainability-description': 'Basada en el uso eficiente de recursos y conservaci√≥n ambiental',

                'lettuce': 'Lechuga Espacial',
                'potato': 'Papa Marciana',
                'wheat': 'Trigo Lunar',
                'soy': 'Soja Espacial',
                'corn': 'Ma√≠z Orbital',
                'sunflower': 'Girasol Solar',
                'coffee': 'Caf√© Marciano'
            },
            it: {
                'home': 'Home',
                'game': 'Gioca',
                'login': 'Accedi',
                'register': 'Registrati',

                'home-title': 'NASA Space Farming',
                'home-description': 'Unisciti alla missione per nutrire l\'umanit√† nel cosmo. Coltiva piante in ambienti di microgravit√†, gestisci risorse limitate e collabora con altri agricoltori spaziali in un\'esperienza unica basata su dati reali della NASA.',
                'home-start-btn': 'Inizia Ora',
                'home-register-btn': 'Registrati',

                'feature-1-title': 'Dati NASA in Tempo Reale',
                'feature-1-desc': 'Utilizza dati reali dei satelliti della NASA per prendere decisioni agricole informate su clima, umidit√† del suolo e salute della vegetazione.',
                'feature-2-title': 'Agricoltura Spaziale',
                'feature-2-desc': 'Impara tecniche avanzate di coltivazione in ambienti di microgravit√† e contribuisci alla colonizzazione di Marte e oltre.',
                'feature-3-title': 'Ricerca Scientifica',
                'feature-3-desc': 'Partecipa a vere ricerche della NASA e collabora con una comunit√† globale di agricoltori spaziali.',

                'game-title': 'Colonia Lunare - Agricoltura Spaziale',
                'game-subtitle': 'Integrazione di dati satellitari per un\'agricoltura sostenibile',
                'game-intro-1': 'L\'agricoltura √® al centro dell\'approvvigionamento alimentare globale, ma la comunit√† agricola affronta sfide senza precedenti con il cambiamento climatico. Questo gioco dimostra come i dati aperti della NASA possano essere utilizzati per ottimizzare la produttivit√† delle colture, ridurre le risorse necessarie e minimizzare l\'impatto ambientale.',
                'game-intro-2': 'Utilizza i dati satellitari per prendere decisioni agricole basate su informazioni reali sulle condizioni climatiche, l\'umidit√† del suolo e la salute della vegetazione.',

                'player-name': 'Agricoltore Spaziale',
                'level-text': 'Livello',
                'coins-text': 'NasaCoins',
                'farm-title': 'Fattoria Lunare Sostenibile',
                'farm-description': 'Seleziona una coltura e clicca per piantare o clicca direttamente su un appezzamento vuoto',
                'plant-btn-text': 'Pianta nel Prossimo Appezzamento',
                'harvest-btn-text': 'Raccogli Tutto',
                'irrigate-btn-text': 'Irriga',
                'fertilize-btn-text': 'Fertilizza',
                'food-text': 'Cibo',
                'water-text': 'acqua',
                'water-resource-text': 'Acqua',
                'oxygen-text': 'Ossigeno',
                'energy-text': 'Energia',
                'storage-title': 'Magazzino',
                'nasa-title': 'Dati NASA in Tempo Reale',
                'nasa-description': 'Consulta dati reali per prendere decisioni agricole informate',
                'log-title': 'Registro Missione',
                'welcome-log': 'Benvenuto al programma di Agricoltura di Precisione con i dati della NASA!',
                'select-log': 'Seleziona una coltura e inizia a piantare.',
                'sustainability-title': 'Punteggio di Sostenibilit√†',
                'sustainability-description': 'Basato sull\'uso efficiente delle risorse e la conservazione ambientale',

                'lettuce': 'Lattuga Spaziale',
                'potato': 'Patata Marziana',
                'wheat': 'Grano Lunare',
                'soy': 'Soia Spaziale',
                'corn': 'Mais Orbitale',
                'sunflower': 'Girasole Solare',
                'coffee': 'Caff√® Marziano'
            }
        };

        let currentLanguage = 'pt';

        const cropData = {
            lettuce: {
                name: "Alface Espacial",
                cost: { oxygen: 5 },
                growthTime: 3,
                icon: 'ü•¨',
                harvestAmount: 5,
                color: "#2e8b57"
            },
            potato: {
                name: "Batata Marciana",
                cost: { oxygen: 10 },
                growthTime: 5,
                icon: 'ü•î',
                harvestAmount: 8,
                color: "#daa520"
            },
            wheat: {
                name: "Trigo Lunar",
                cost: { oxygen: 15 },
                growthTime: 7,
                icon: 'üåæ',
                harvestAmount: 12,
                color: "#f4a460"
            },
            soy: {
                name: "Soja Espacial",
                cost: { oxygen: 12 },
                growthTime: 6,
                icon: 'ü´ò',
                harvestAmount: 10,
                color: "#8B4513"
            },
            corn: {
                name: "Milho Orbital",
                cost: { oxygen: 18 },
                growthTime: 8,
                icon: 'üåΩ',
                harvestAmount: 15,
                color: "#FFD700"
            },
            sunflower: {
                name: "Girassol Solar",
                cost: { oxygen: 8 },
                growthTime: 4,
                icon: 'üåª',
                harvestAmount: 6,
                color: "#FFA500"
            },
            coffee: {
                name: "Caf√© Marciano",
                cost: { oxygen: 25 },
                growthTime: 10,
                icon: '‚òï',
                harvestAmount: 20,
                color: "#8B4513"
            }
        };

        const GRID_SIZE = 8;
        let gameState = {
            food: 100,
            water: 50,
            oxygen: 100,
            energy: 75,
            nasaCoins: 100,
            fertilizer: 5,
            playerLevel: 1,
            playerXP: 0,
            currentCrop: 'lettuce',
            plantedPlots: new Array(GRID_SIZE * GRID_SIZE).fill(null),
            storage: {}
        };

        function initGame() {
            Object.keys(cropData).forEach(cropKey => {
                gameState.storage[cropKey] = 0;
            });

            generateFarmGrid();
            updateCropSelector();
            updateStorageDisplay();
            updateGameUI();

            setInterval(gameLoop, 5000);

            document.getElementById('plantBtn').addEventListener('click', plantCrop);
            document.getElementById('harvestBtn').addEventListener('click', harvestAll);
            document.getElementById('irrigateBtn').addEventListener('click', irrigate);
            document.getElementById('fertilizeBtn').addEventListener('click', fertilize);

            setupLanguageSelector();

            addLogEntry('Sistema de Agricultura Espacial inicializado. Selecione uma cultura para come√ßar!');
        }

        function setupLanguageSelector() {
            const languageButton = document.getElementById('languageButton');
            const languageDropdown = document.getElementById('languageDropdown');

            languageButton.addEventListener('click', (e) => {
                e.stopPropagation();
                languageDropdown.classList.toggle('show');
            });

            document.addEventListener('click', () => {
                languageDropdown.classList.remove('show');
            });

            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const lang = option.dataset.lang;
                    changeLanguage(lang);
                    languageDropdown.classList.remove('show');
                });
            });
        }

        function changeLanguage(lang) {
            currentLanguage = lang;

            const languageButton = document.getElementById('languageButton');
            const activeOption = document.querySelector(`.language-option[data-lang="${lang}"]`);
            const flag = activeOption.querySelector('.language-flag').textContent;
            const text = activeOption.querySelector('span:last-child').textContent;

            languageButton.innerHTML = `
                <span class="language-flag">${flag}</span>
                <span>${text}</span>
                <span>‚ñº</span>
            `;

            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('active');
            });
            activeOption.classList.add('active');

            updateTranslations();
        }

        function updateTranslations() {
            const langData = translations[currentLanguage];

            document.querySelectorAll('.nav-link').forEach(link => {
                const section = link.dataset.section;
                if (langData[section]) {
                    link.textContent = langData[section];
                }
            });

            Object.keys(langData).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = langData[key];
                    } else {
                        element.textContent = langData[key];
                    }
                }
            });

            updateCropSelector();
            updateStorageDisplay();
        }

        function getTranslation(key) {
            return translations[currentLanguage][key] || key;
        }

        function generateFarmGrid() {
            const farmGrid = document.getElementById('farmGrid');
            farmGrid.innerHTML = '';

            for (let i = 0; i < GRID_SIZE * GRID_SIZE; i++) {
                const plot = document.createElement('div');
                plot.className = 'plot';
                plot.dataset.index = i;
                plot.addEventListener('click', () => handlePlotClick(i));
                farmGrid.appendChild(plot);
            }
        }

        function updateCropSelector() {
            const cropSelector = document.getElementById('cropSelector');
            cropSelector.innerHTML = '';

            Object.keys(cropData).forEach(cropKey => {
                const crop = cropData[cropKey];
                const cropName = getTranslation(cropKey) || crop.name;
                const cropOption = document.createElement('div');
                cropOption.className = `crop-option ${cropKey === gameState.currentCrop ? 'selected' : ''}`;
                cropOption.dataset.crop = cropKey;
                cropOption.innerHTML = `
                    ${crop.icon}
                    <span>${cropName}</span>
                    <span class="crop-cost">(${crop.cost.oxygen} O‚ÇÇ)</span>
                `;

                cropOption.addEventListener('click', () => selectCrop(cropKey));
                cropSelector.appendChild(cropOption);
            });
        }

        function selectCrop(cropKey) {
            gameState.currentCrop = cropKey;
            updateCropSelector();
            addLogEntry(`${getTranslation('select-log')}`);
        }

        function handlePlotClick(index) {
            if (gameState.plantedPlots[index] && gameState.plantedPlots[index].harvestable) {
                harvestPlot(index);
            } else if (!gameState.plantedPlots[index]) {
                plantCrop(index);
            }
        }

        function plantCrop(plotIndex = -1) {
            let targetIndex = plotIndex;

            if (targetIndex === -1) {
                targetIndex = gameState.plantedPlots.findIndex(p => p === null);
                if (targetIndex === -1) {
                    showDialog('Todas as parcelas est√£o ocupadas! Colha algumas plantas primeiro.');
                    return;
                }
            }

            if (gameState.plantedPlots[targetIndex] !== null) {
                showDialog('Esta parcela j√° est√° ocupada!');
                return;
            }

            const crop = cropData[gameState.currentCrop];

            if (gameState.oxygen < crop.cost.oxygen) {
                showDialog(`Oxig√™nio insuficiente! Voc√™ precisa de ${crop.cost.oxygen} O‚ÇÇ para plantar ${getTranslation(gameState.currentCrop)}.`);
                return;
            }

            gameState.oxygen -= crop.cost.oxygen;
            gameState.plantedPlots[targetIndex] = {
                cropType: gameState.currentCrop,
                growthStage: 0,
                growthTime: crop.growthTime,
                moisture: 60,
                harvestable: false,
                fertilized: false
            };

            updatePlotVisual(targetIndex);
            updateGameUI();
            addLogEntry(`Plantado ${getTranslation(gameState.currentCrop)} na parcela ${targetIndex + 1}.`);
            showDialog(`${getTranslation(gameState.currentCrop)} plantada com sucesso!`);
        }

        function updatePlotVisual(index) {
            const plot = document.querySelector(`.plot[data-index="${index}"]`);
            const plotData = gameState.plantedPlots[index];

            plot.innerHTML = '';
            plot.classList.remove('planted', 'harvestable');

            if (plotData) {
                const crop = cropData[plotData.cropType];
                plot.classList.add('planted');
                plot.style.backgroundColor = crop.color;

                const cropIcon = document.createElement('span');
                cropIcon.className = 'crop-icon';
                cropIcon.textContent = crop.icon;

                const growthIndicator = document.createElement('span');
                const growthPercentage = Math.min(100, (plotData.growthStage / plotData.growthTime) * 100);
                growthIndicator.textContent = `${Math.floor(growthPercentage)}%`;
                growthIndicator.style.fontSize = '0.8rem';
                growthIndicator.style.position = 'absolute';
                growthIndicator.style.top = '5px';
                growthIndicator.style.color = 'white';

                plot.appendChild(growthIndicator);
                plot.appendChild(cropIcon);

                const moistureBar = document.createElement('div');
                moistureBar.className = 'soil-moisture';
                moistureBar.style.width = `${plotData.moisture}%`;
                plot.appendChild(moistureBar);

                if (plotData.harvestable) {
                    plot.classList.add('harvestable');
                    cropIcon.style.animation = 'pulse 1.5s infinite';
                }

                if (plotData.fertilized) {
                    const fertIcon = document.createElement('span');
                    fertIcon.textContent = '‚ú®';
                    fertIcon.style.position = 'absolute';
                    fertIcon.style.bottom = '5px';
                    fertIcon.style.right = '5px';
                    plot.appendChild(fertIcon);
                }
            }
        }

        function harvestPlot(index) {
            const plot = gameState.plantedPlots[index];
            if (!plot || !plot.harvestable) return;

            const crop = cropData[plot.cropType];
            const harvestAmount = plot.fertilized ?
                Math.ceil(crop.harvestAmount * 1.5) : crop.harvestAmount;

            gameState.storage[plot.cropType] += harvestAmount;
            gameState.food += Math.floor(harvestAmount / 2);
            gameState.playerXP += 10;
            gameState.nasaCoins += Math.floor(harvestAmount / 2);

            addLogEntry(`Colheita de ${getTranslation(plot.cropType)} na parcela ${index + 1}. +${harvestAmount} ${crop.icon}`);

            gameState.plantedPlots[index] = null;
            updatePlotVisual(index);
            updateGameUI();
            updateStorageDisplay();
            showDialog(`Colheita de ${getTranslation(plot.cropType)}! +${harvestAmount} ${crop.icon}`);

            checkLevelUp();
        }

        function harvestAll() {
            let harvestedCount = 0;
            gameState.plantedPlots.forEach((plot, index) => {
                if (plot && plot.harvestable) {
                    harvestPlot(index);
                    harvestedCount++;
                }
            });

            if (harvestedCount === 0) {
                showDialog('N√£o h√° culturas prontas para colheita.');
            } else {
                addLogEntry(`${harvestedCount} parcelas colhidas.`);
            }
        }

        function irrigate() {
            if (gameState.water < 10) {
                showDialog('√Ågua insuficiente para irriga√ß√£o!');
                return;
            }

            gameState.water -= 10;
            let plotsAffected = 0;

            gameState.plantedPlots.forEach((plot, index) => {
                if (plot) {
                    plot.moisture = Math.min(100, plot.moisture + 20);
                    plotsAffected++;
                    updatePlotVisual(index);
                }
            });

            updateGameUI();
            if (plotsAffected > 0) {
                addLogEntry(`Irriga√ß√£o aplicada em ${plotsAffected} parcelas.`);
                showDialog('Irriga√ß√£o conclu√≠da!');
            }
        }

        function fertilize() {
            if (gameState.nasaCoins < 5) {
                showDialog('NasaCoins insuficientes para fertilizar!');
                return;
            }

            const plotsToFertilize = gameState.plantedPlots.filter(p => p && !p.harvestable && !p.fertilized);
            if (plotsToFertilize.length === 0) {
                showDialog('N√£o h√° parcelas para fertilizar!');
                return;
            }

            gameState.nasaCoins -= 5;
            const plotIndex = gameState.plantedPlots.findIndex(p => p && !p.harvestable && !p.fertilized);
            const plot = gameState.plantedPlots[plotIndex];

            plot.fertilized = true;
            plot.growthTime = Math.max(1, plot.growthTime - 1);

            updatePlotVisual(plotIndex);
            updateGameUI();
            addLogEntry(`Parcela ${plotIndex + 1} fertilizada.`);
            showDialog('Fertilizante aplicado!');
        }

        function gameLoop() {
            gameState.water = Math.max(0, gameState.water - 5);
            gameState.energy = Math.max(0, gameState.energy - 3);

            gameState.plantedPlots.forEach((plot, index) => {
                if (plot) {
                    if (plot.moisture >= 40 && plot.moisture <= 70) {
                        plot.growthStage += 1;
                    } else {
                        plot.moisture -= 5;
                    }

                    plot.moisture = Math.max(0, plot.moisture - 3);

                    if (plot.growthStage >= plot.growthTime && !plot.harvestable) {
                        plot.harvestable = true;
                        addLogEntry(`${getTranslation(plot.cropType)} pronta para colheita na parcela ${index + 1}!`);
                    }

                    updatePlotVisual(index);
                }
            });

            updateGameUI();
            checkFailureConditions();
        }

        function checkFailureConditions() {
            if (gameState.food <= 0) {
                addLogEntry('FALHA NA MISS√ÉO: Acabaram-se os alimentos!');
                gameState.gameRunning = false;
            }
        }

        function checkLevelUp() {
            const xpNeeded = gameState.playerLevel * 100;
            if (gameState.playerXP >= xpNeeded) {
                gameState.playerLevel++;
                gameState.playerXP -= xpNeeded;
                gameState.nasaCoins += 50;
                addLogEntry(`PARAB√âNS! N√≠vel ${gameState.playerLevel} alcan√ßado!`);
                showDialog(`Voc√™ subiu para o n√≠vel ${gameState.playerLevel}!`);
            }
        }

        function updateGameUI() {
            document.getElementById('foodCount').textContent = gameState.food;
            document.getElementById('waterCount').textContent = gameState.water;
            document.getElementById('oxygenCount').textContent = gameState.oxygen;
            document.getElementById('energyCount').textContent = gameState.energy;
            document.getElementById('player-level').textContent = gameState.playerLevel;
            document.getElementById('player-xp').textContent = gameState.playerXP;
            document.getElementById('player-coins').textContent = gameState.nasaCoins;

            const hasHarvestable = gameState.plantedPlots.some(plot => plot && plot.harvestable);
            document.getElementById('harvestBtn').disabled = !hasHarvestable;
        }

        function updateStorageDisplay() {
            const storageItems = document.getElementById('storageItems');
            storageItems.innerHTML = '';

            Object.keys(cropData).forEach(cropKey => {
                const crop = cropData[cropKey];
                const cropName = getTranslation(cropKey) || crop.name;
                const storageItem = document.createElement('div');
                storageItem.className = 'storage-item';
                storageItem.innerHTML = `
                    ${crop.icon} ${cropName}: <span>${gameState.storage[cropKey]}</span>
                `;
                storageItems.appendChild(storageItem);
            });
        }

        function addLogEntry(message) {
            const missionLog = document.getElementById('missionLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            missionLog.prepend(entry);

            while (missionLog.children.length > 20) {
                missionLog.removeChild(missionLog.lastChild);
            }
        }

        function showDialog(message, icon = 'üë©‚Äçüî¨') {
            const dialogBox = document.getElementById('dialogBox');
            const dialogText = document.getElementById('dialogText');

            dialogText.textContent = message;
            document.querySelector('.dialog-avatar').textContent = icon;
            dialogBox.classList.add('show');

            setTimeout(hideDialog, 4000);
        }

        function hideDialog() {
            document.getElementById('dialogBox').classList.remove('show');
        }

        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetSection = e.target.getAttribute('data-section');

                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });

                document.querySelectorAll('.nav-link').forEach(nav => {
                    nav.classList.remove('active');
                });

                document.getElementById(targetSection).classList.add('active');
                e.target.classList.add('active');

                window.scrollTo(0, 0);
            });
        });

        window.onload = initGame;
    </script>
</body>
</html>
